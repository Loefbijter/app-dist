(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{Tlcl:function(l,n,u){"use strict";u.r(n);var e=u("8Y7J");class t{}var i=u("pMnS"),o=u("MKJQ"),s=u("sZkV"),r=u("s7LF"),a=u("iInd"),b=u("SVse"),c=u("mrSG"),d=u("IheW"),g=u("AytR");let h=(()=>{class l{constructor(l){this.http=l}signIn(l){const n=new d.g({AddNoAccessTokenHeader:"true",DontCatchUnauthorizedErrorHeader:"true"});return this.http.post("".concat(g.a.API_URL,"auth/login"),l,{headers:n})}}return l.ngInjectableDef=e.Nb({factory:function(){return new l(e.Ob(d.c))},token:l,providedIn:"root"}),l})();var p=u("ccyI"),m=u("0iHu"),v=u("hCTW");class k{constructor(l,n,u,e,t,i,o){this.signInService=l,this.toastController=n,this.router=u,this.authService=e,this.menuController=t,this.pushService=i,this.form=o.group({email:["",[r.m.required,r.m.email]],password:["",r.m.required]})}ionViewWillEnter(){this.menuController.enable(!1)}signIn(){return c.a(this,void 0,void 0,(function*(){this.form.valid?this.signInService.signIn(this.form.value).subscribe(l=>this.gotResult(l),l=>this.gotError(l)):(yield this.toastController.create({message:"Vul a.u.b. je inloggevens in.",duration:v.b})).present()}))}gotResult(l){return c.a(this,void 0,void 0,(function*(){yield this.authService.saveTokens(l),this.menuController.enable(!0),this.router.navigate(["/home"]),this.authService.getUserId().then(l=>{this.pushService.subscribe(l).then(()=>c.a(this,void 0,void 0,(function*(){const l=yield this.toastController.create({message:"Pushberichten ingeschakeld!",duration:v.b});yield l.present()}))).catch(l=>c.a(this,void 0,void 0,(function*(){const n=yield this.toastController.create({header:"Pushberichten niet ingeschakeld!",message:l.message,duration:v.b,color:"danger"});yield n.present()})))}),this.form.setValue({password:""})}))}gotError(l){return c.a(this,void 0,void 0,(function*(){401===l.status?(yield this.toastController.create({message:l.error.message,duration:v.b})).present():(yield this.toastController.create({message:"Sorry, er is iets misgegaan. Probeer het later opnieuw.",duration:v.b})).present()}))}}var f=e.mb({encapsulation:0,styles:[[".card-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:25px auto;display:block;width:50%}ion-card[_ngcontent-%COMP%]{margin-bottom:30px}"]],data:{}});function y(l){return e.Jb(0,[(l()(),e.ob(0,0,null,null,6,"ion-header",[],null,null,null,o.hb,o.p)),e.nb(1,49152,null,0,s.C,[e.h,e.k,e.x],null,null),(l()(),e.ob(2,0,null,0,4,"ion-toolbar",[],null,null,null,o.Jb,o.R)),e.nb(3,49152,null,0,s.Ab,[e.h,e.k,e.x],null,null),(l()(),e.ob(4,0,null,0,2,"ion-title",[],null,null,null,o.Hb,o.P)),e.nb(5,49152,null,0,s.yb,[e.h,e.k,e.x],null,null),(l()(),e.Hb(-1,0,["De Loefbijter"])),(l()(),e.ob(7,0,null,null,46,"ion-content",[["fullscreen",""]],null,null,null,o.eb,o.m)),e.nb(8,49152,null,0,s.v,[e.h,e.k,e.x],{fullscreen:[0,"fullscreen"]},null),(l()(),e.ob(9,0,null,0,2,"picture",[["class","card-logo"]],null,null,null,null,null)),(l()(),e.ob(10,0,null,null,0,"source",[["media","(prefers-color-scheme: dark)"],["srcset","../../assets/Logo-Loefbijter-kleur-transparant-1-1030x728-white-text.png"]],null,null,null,null,null)),(l()(),e.ob(11,0,null,null,0,"img",[["class","sign-in-logo"],["src","../../assets/Logo-Loefbijter-kleur-transparant-1-1030x728.png"]],null,null,null,null,null)),(l()(),e.ob(12,0,null,0,41,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,u){var t=!0,i=l.component;return"submit"===n&&(t=!1!==e.Ab(l,14).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Ab(l,14).onReset()&&t),"ngSubmit"===n&&(t=!1!==i.signIn()&&t),t}),null,null)),e.nb(13,16384,null,0,r.q,[],null,null),e.nb(14,540672,null,0,r.e,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Eb(2048,null,r.a,null,[r.e]),e.nb(16,16384,null,0,r.j,[[4,r.a]],null,null),(l()(),e.ob(17,0,null,null,25,"ion-list",[["class","ion-no-margin ion-no-padding"],["lines","full"]],null,null,null,o.sb,o.z)),e.nb(18,49152,null,0,s.P,[e.h,e.k,e.x],{lines:[0,"lines"]},null),(l()(),e.ob(19,0,null,0,11,"ion-item",[["class","sign-in-fields"]],null,null,null,o.pb,o.u)),e.nb(20,49152,null,0,s.I,[e.h,e.k,e.x],null,null),(l()(),e.ob(21,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,o.qb,o.y)),e.nb(22,49152,null,0,s.O,[e.h,e.k,e.x],{position:[0,"position"]},null),(l()(),e.Hb(-1,0,["Email"])),(l()(),e.ob(24,0,null,0,6,"ion-input",[["formControlName","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0;return"ionBlur"===n&&(t=!1!==e.Ab(l,25)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Ab(l,25)._handleInputEvent(u.target)&&t),t}),o.lb,o.t)),e.nb(25,16384,null,0,s.Mb,[e.k],null,null),e.Eb(1024,null,r.g,(function(l){return[l]}),[s.Mb]),e.nb(27,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.p]],{name:[0,"name"]},null),e.Eb(2048,null,r.h,null,[r.d]),e.nb(29,16384,null,0,r.i,[[4,r.h]],null,null),e.nb(30,49152,null,0,s.H,[e.h,e.k,e.x],null,null),(l()(),e.ob(31,0,null,0,11,"ion-item",[["class","sign-in-fields"]],null,null,null,o.pb,o.u)),e.nb(32,49152,null,0,s.I,[e.h,e.k,e.x],null,null),(l()(),e.ob(33,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,o.qb,o.y)),e.nb(34,49152,null,0,s.O,[e.h,e.k,e.x],{position:[0,"position"]},null),(l()(),e.Hb(-1,0,["Wachtwoord"])),(l()(),e.ob(36,0,null,0,6,"ion-input",[["formControlName","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var t=!0;return"ionBlur"===n&&(t=!1!==e.Ab(l,37)._handleBlurEvent(u.target)&&t),"ionChange"===n&&(t=!1!==e.Ab(l,37)._handleInputEvent(u.target)&&t),t}),o.lb,o.t)),e.nb(37,16384,null,0,s.Mb,[e.k],null,null),e.Eb(1024,null,r.g,(function(l){return[l]}),[s.Mb]),e.nb(39,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.p]],{name:[0,"name"]},null),e.Eb(2048,null,r.h,null,[r.d]),e.nb(41,16384,null,0,r.i,[[4,r.h]],null,null),e.nb(42,49152,null,0,s.H,[e.h,e.k,e.x],{type:[0,"type"]},null),(l()(),e.ob(43,0,null,null,10,"div",[["class","ion-padding"]],null,null,null,null,null)),(l()(),e.ob(44,0,null,null,4,"ion-button",[["class","sign-in-button"],["color","primary"],["expand","block"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.signIn()&&e),e}),o.V,o.d)),e.nb(45,49152,null,0,s.l,[e.h,e.k,e.x],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"]},null),(l()(),e.Hb(-1,0,[" Inloggen "])),(l()(),e.ob(47,0,null,0,1,"ion-icon",[["name","log-in-outline"],["slot","end"]],null,null,null,o.ib,o.q)),e.nb(48,49152,null,0,s.D,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.ob(49,0,null,null,4,"ion-button",[["class","ion-margin-top"],["color","primary"],["expand","block"],["fill","clear"],["routerLink","/password-reset"],["size","small"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Ab(l,51).onClick()&&t),"click"===n&&(t=!1!==e.Ab(l,52).onClick(u)&&t),t}),o.V,o.d)),e.nb(50,49152,null,0,s.l,[e.h,e.k,e.x],{color:[0,"color"],expand:[1,"expand"],fill:[2,"fill"],size:[3,"size"]},null),e.nb(51,16384,null,0,a.n,[a.m,a.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.nb(52,737280,null,0,s.Kb,[b.h,s.Gb,e.k,a.m,[2,a.n]],null,null),(l()(),e.Hb(-1,0,["Herstel je wachtwoord"]))],(function(l,n){var u=n.component;l(n,8,0,""),l(n,14,0,u.form),l(n,18,0,"full"),l(n,22,0,"stacked"),l(n,27,0,"email"),l(n,34,0,"stacked"),l(n,39,0,"password"),l(n,42,0,"password"),l(n,45,0,"primary",!u.form.valid,"block"),l(n,48,0,"log-in-outline"),l(n,50,0,"primary","block","clear","small"),l(n,51,0,"/password-reset"),l(n,52,0)}),(function(l,n){l(n,12,0,e.Ab(n,16).ngClassUntouched,e.Ab(n,16).ngClassTouched,e.Ab(n,16).ngClassPristine,e.Ab(n,16).ngClassDirty,e.Ab(n,16).ngClassValid,e.Ab(n,16).ngClassInvalid,e.Ab(n,16).ngClassPending),l(n,24,0,e.Ab(n,29).ngClassUntouched,e.Ab(n,29).ngClassTouched,e.Ab(n,29).ngClassPristine,e.Ab(n,29).ngClassDirty,e.Ab(n,29).ngClassValid,e.Ab(n,29).ngClassInvalid,e.Ab(n,29).ngClassPending),l(n,36,0,e.Ab(n,41).ngClassUntouched,e.Ab(n,41).ngClassTouched,e.Ab(n,41).ngClassPristine,e.Ab(n,41).ngClassDirty,e.Ab(n,41).ngClassValid,e.Ab(n,41).ngClassInvalid,e.Ab(n,41).ngClassPending)}))}var C=e.kb("app-sign-in",k,(function(l){return e.Jb(0,[(l()(),e.ob(0,0,null,null,1,"app-sign-in",[],null,null,null,y,f)),e.nb(1,49152,null,0,k,[h,s.Nb,a.m,p.b,s.Eb,m.a,r.b],null,null)],null,null)}),{},{},[]);class A{}u.d(n,"SignInPageModuleNgFactory",(function(){return x}));var x=e.lb(t,[],(function(l){return e.xb([e.yb(512,e.j,e.X,[[8,[i.a,C]],[3,e.j],e.v]),e.yb(4608,b.l,b.k,[e.s,[2,b.u]]),e.yb(4608,r.o,r.o,[]),e.yb(4608,s.c,s.c,[e.x,e.g]),e.yb(4608,s.Fb,s.Fb,[s.c,e.j,e.p]),e.yb(4608,s.Jb,s.Jb,[s.c,e.j,e.p]),e.yb(4608,r.b,r.b,[]),e.yb(1073742336,b.b,b.b,[]),e.yb(1073742336,r.n,r.n,[]),e.yb(1073742336,r.f,r.f,[]),e.yb(1073742336,s.Cb,s.Cb,[]),e.yb(1073742336,a.o,a.o,[[2,a.t],[2,a.m]]),e.yb(1073742336,A,A,[]),e.yb(1073742336,r.l,r.l,[]),e.yb(1073742336,t,t,[]),e.yb(1024,a.k,(function(){return[[{path:"",component:k}]]}),[])])}))}}]);