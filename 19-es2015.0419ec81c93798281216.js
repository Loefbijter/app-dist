(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{lZMm:function(n,l,u){"use strict";u.r(l);var t=u("8Y7J");class i{}var e=u("pMnS"),o=u("MKJQ"),s=u("sZkV"),a=u("s7LF"),b=u("SVse"),r=u("mrSG"),c=u("zTOr"),g=u("hCTW");class h{constructor(n,l,u,t,i){this.activitiesService=n,this.activatedRoute=l,this.builder=u,this.helper=t,this.router=i,this.page=1}ngOnInit(){this.getActivity().subscribe(n=>{this.activity=n,this.form=this.builder.group(n.price?{payment:[!1,a.m.requiredTrue]}:{payment:[!1]}),this.activitiesService.getQuestions(this.activityId,1,0).subscribe(n=>this.totalQuestions=n.totalItems),this.activitiesService.getQuestions(this.activityId,this.page).subscribe(n=>{this.questions=n.items,this.setupForm(n.items)})})}getActivity(){return this.activityId=this.activatedRoute.snapshot.paramMap.get("activity_id"),this.activitiesService.findById(this.activityId)}setupForm(n){for(const l of n){let n=null;3==l.type&&(n=!1);const u=new a.c(n);l.required&&u.setValidators([a.m.required]),this.form.addControl(l.id,u)}}onSubmit(){this.form.valid&&this.questions.length==this.totalQuestions&&this.activitiesService.createReservation(this.activityId,this.createAnswers()).subscribe(n=>{this.helper.presentToast("Succesvol ingeschreven!",{duration:4e3}),this.router.navigateBack("/activities")},n=>r.a(this,void 0,void 0,(function*(){yield this.helper.presentToast(`Er ging iets mis bij het inschrijven voor de activiteit (${n.error.extra.map(n=>n.code).join(", ")})`,{duration:4e3})})))}createAnswers(){const n=[];for(const l of this.questions)n.push({questionId:l.id,text:this.form.value[l.id]});return n}loadData(n){setTimeout(()=>{this.page++,this.activitiesService.getQuestions(this.activityId,this.page).subscribe(n=>{this.questions=this.questions.concat(n.items),this.setupForm(n.items)}),n.target.complete(),this.questions.length>=this.totalQuestions&&(n.target.disabled=!0)},500)}}var d=u("iInd"),p=t.mb({encapsulation:0,styles:[[".list-margin[_ngcontent-%COMP%]{margin-top:80px;margin-bottom:40px}.question-list[_ngcontent-%COMP%]{min-height:20vh}"]],data:{}});function v(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,6,"ion-input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var i=!0;return"ionBlur"===l&&(i=!1!==t.Ab(n,1)._handleBlurEvent(u.target)&&i),"ionChange"===l&&(i=!1!==t.Ab(n,1)._handleInputEvent(u.target)&&i),i}),o.lb,o.t)),t.nb(1,16384,null,0,s.Mb,[t.k],null,null),t.Eb(1024,null,a.g,(function(n){return[n]}),[s.Mb]),t.nb(3,671744,null,0,a.d,[[3,a.a],[8,null],[8,null],[6,a.g],[2,a.p]],{name:[0,"name"]},null),t.Eb(2048,null,a.h,null,[a.d]),t.nb(5,16384,null,0,a.i,[[4,a.h]],null,null),t.nb(6,49152,null,0,s.H,[t.h,t.k,t.x],{type:[0,"type"]},null)],(function(n,l){n(l,3,0,l.parent.context.$implicit.id),n(l,6,0,"text")}),(function(n,l){n(l,0,0,t.Ab(l,5).ngClassUntouched,t.Ab(l,5).ngClassTouched,t.Ab(l,5).ngClassPristine,t.Ab(l,5).ngClassDirty,t.Ab(l,5).ngClassValid,t.Ab(l,5).ngClassInvalid,t.Ab(l,5).ngClassPending)}))}function f(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,6,"ion-textarea",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var i=!0;return"ionBlur"===l&&(i=!1!==t.Ab(n,1)._handleBlurEvent(u.target)&&i),"ionChange"===l&&(i=!1!==t.Ab(n,1)._handleInputEvent(u.target)&&i),i}),o.Gb,o.O)),t.nb(1,16384,null,0,s.Mb,[t.k],null,null),t.Eb(1024,null,a.g,(function(n){return[n]}),[s.Mb]),t.nb(3,671744,null,0,a.d,[[3,a.a],[8,null],[8,null],[6,a.g],[2,a.p]],{name:[0,"name"]},null),t.Eb(2048,null,a.h,null,[a.d]),t.nb(5,16384,null,0,a.i,[[4,a.h]],null,null),t.nb(6,49152,null,0,s.wb,[t.h,t.k,t.x],null,null)],(function(n,l){n(l,3,0,l.parent.context.$implicit.id)}),(function(n,l){n(l,0,0,t.Ab(l,5).ngClassUntouched,t.Ab(l,5).ngClassTouched,t.Ab(l,5).ngClassPristine,t.Ab(l,5).ngClassDirty,t.Ab(l,5).ngClassValid,t.Ab(l,5).ngClassInvalid,t.Ab(l,5).ngClassPending)}))}function m(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,6,"ion-input",[["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var i=!0;return"ionBlur"===l&&(i=!1!==t.Ab(n,1)._handleBlurEvent(u.target)&&i),"ionChange"===l&&(i=!1!==t.Ab(n,1)._handleIonChange(u.target)&&i),i}),o.lb,o.t)),t.nb(1,16384,null,0,s.Hb,[t.k],null,null),t.Eb(1024,null,a.g,(function(n){return[n]}),[s.Hb]),t.nb(3,671744,null,0,a.d,[[3,a.a],[8,null],[8,null],[6,a.g],[2,a.p]],{name:[0,"name"]},null),t.Eb(2048,null,a.h,null,[a.d]),t.nb(5,16384,null,0,a.i,[[4,a.h]],null,null),t.nb(6,49152,null,0,s.H,[t.h,t.k,t.x],{type:[0,"type"]},null)],(function(n,l){n(l,3,0,l.parent.context.$implicit.id),n(l,6,0,"number")}),(function(n,l){n(l,0,0,t.Ab(l,5).ngClassUntouched,t.Ab(l,5).ngClassTouched,t.Ab(l,5).ngClassPristine,t.Ab(l,5).ngClassDirty,t.Ab(l,5).ngClassValid,t.Ab(l,5).ngClassInvalid,t.Ab(l,5).ngClassPending)}))}function C(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,6,"ion-checkbox",[["slot","start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var i=!0;return"ionBlur"===l&&(i=!1!==t.Ab(n,1)._handleBlurEvent(u.target)&&i),"ionChange"===l&&(i=!1!==t.Ab(n,1)._handleIonChange(u.target)&&i),i}),o.cb,o.k)),t.nb(1,16384,null,0,s.d,[t.k],null,null),t.Eb(1024,null,a.g,(function(n){return[n]}),[s.d]),t.nb(3,671744,null,0,a.d,[[3,a.a],[8,null],[8,null],[6,a.g],[2,a.p]],{name:[0,"name"]},null),t.Eb(2048,null,a.h,null,[a.d]),t.nb(5,16384,null,0,a.i,[[4,a.h]],null,null),t.nb(6,49152,null,0,s.s,[t.h,t.k,t.x],null,null)],(function(n,l){n(l,3,0,l.parent.context.$implicit.id)}),(function(n,l){n(l,0,0,t.Ab(l,5).ngClassUntouched,t.Ab(l,5).ngClassTouched,t.Ab(l,5).ngClassPristine,t.Ab(l,5).ngClassDirty,t.Ab(l,5).ngClassValid,t.Ab(l,5).ngClassInvalid,t.Ab(l,5).ngClassPending)}))}function y(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,14,"ion-item",[],null,null,null,o.pb,o.u)),t.nb(1,49152,null,0,s.I,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,o.qb,o.y)),t.nb(3,49152,null,0,s.O,[t.h,t.k,t.x],{position:[0,"position"]},null),(n()(),t.Hb(4,0,["",""])),(n()(),t.ob(5,0,null,0,9,"div",[],null,null,null,null,null)),t.nb(6,16384,null,0,b.m,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),t.eb(16777216,null,null,1,null,v)),t.nb(8,278528,null,0,b.n,[t.M,t.J,b.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t.eb(16777216,null,null,1,null,f)),t.nb(10,278528,null,0,b.n,[t.M,t.J,b.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t.eb(16777216,null,null,1,null,m)),t.nb(12,278528,null,0,b.n,[t.M,t.J,b.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t.eb(16777216,null,null,1,null,C)),t.nb(14,278528,null,0,b.n,[t.M,t.J,b.m],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,l){n(l,3,0,"stacked"),n(l,6,0,l.context.$implicit.type),n(l,8,0,0),n(l,10,0,1),n(l,12,0,2),n(l,14,0,3)}),(function(n,l){n(l,4,0,l.context.$implicit.text)}))}function A(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,3,"ion-infinite-scroll",[["threshold","5%"]],null,[[null,"ionInfinite"]],(function(n,l,u){var t=!0;return"ionInfinite"===l&&(t=!1!==n.component.loadData(u)&&t),t}),o.kb,o.r)),t.nb(1,49152,null,0,s.F,[t.h,t.k,t.x],{threshold:[0,"threshold"]},null),(n()(),t.ob(2,0,null,0,1,"ion-infinite-scroll-content",[["loadingText","Meer vragen aan het ophalen"]],null,null,null,o.jb,o.s)),t.nb(3,49152,null,0,s.G,[t.h,t.k,t.x],{loadingText:[0,"loadingText"]},null)],(function(n,l){n(l,1,0,"5%"),n(l,3,0,"Meer vragen aan het ophalen")}),null)}function k(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,11,"ion-item",[],null,null,null,o.pb,o.u)),t.nb(1,49152,null,0,s.I,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,6,"ion-checkbox",[["formControlName","payment"],["slot","start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var i=!0;return"ionBlur"===l&&(i=!1!==t.Ab(n,3)._handleBlurEvent(u.target)&&i),"ionChange"===l&&(i=!1!==t.Ab(n,3)._handleIonChange(u.target)&&i),i}),o.cb,o.k)),t.nb(3,16384,null,0,s.d,[t.k],null,null),t.Eb(1024,null,a.g,(function(n){return[n]}),[s.d]),t.nb(5,671744,null,0,a.d,[[3,a.a],[8,null],[8,null],[6,a.g],[2,a.p]],{name:[0,"name"]},null),t.Eb(2048,null,a.h,null,[a.d]),t.nb(7,16384,null,0,a.i,[[4,a.h]],null,null),t.nb(8,49152,null,0,s.s,[t.h,t.k,t.x],null,null),(n()(),t.ob(9,0,null,0,2,"ion-label",[["text-wrap",""]],null,null,null,o.qb,o.y)),t.nb(10,49152,null,0,s.O,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["Ik ga akkoord met een incasso afschrijving van de activiteitskosten"]))],(function(n,l){n(l,5,0,"payment")}),(function(n,l){n(l,2,0,t.Ab(l,7).ngClassUntouched,t.Ab(l,7).ngClassTouched,t.Ab(l,7).ngClassPristine,t.Ab(l,7).ngClassDirty,t.Ab(l,7).ngClassValid,t.Ab(l,7).ngClassInvalid,t.Ab(l,7).ngClassPending)}))}function x(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,16,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,u){var i=!0,e=n.component;return"submit"===l&&(i=!1!==t.Ab(n,2).onSubmit(u)&&i),"reset"===l&&(i=!1!==t.Ab(n,2).onReset()&&i),"ngSubmit"===l&&(i=!1!==e.onSubmit()&&i),i}),null,null)),t.nb(1,16384,null,0,a.q,[],null,null),t.nb(2,540672,null,0,a.e,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Eb(2048,null,a.a,null,[a.e]),t.nb(4,16384,null,0,a.j,[[4,a.a]],null,null),(n()(),t.ob(5,0,null,null,3,"ion-list",[["class","ion-no-margin ion-no-padding question-list"],["lines","full"]],null,null,null,o.sb,o.z)),t.nb(6,49152,null,0,s.P,[t.h,t.k,t.x],{lines:[0,"lines"]},null),(n()(),t.eb(16777216,null,0,1,null,y)),t.nb(8,278528,null,0,b.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.eb(16777216,null,null,1,null,A)),t.nb(10,16384,null,0,b.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.eb(16777216,null,null,1,null,k)),t.nb(12,16384,null,0,b.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.ob(13,0,null,null,3,"section",[["class","ion-padding"]],null,null,null,null,null)),(n()(),t.ob(14,0,null,null,2,"ion-button",[["expand","block"],["type","submit"]],null,null,null,o.V,o.d)),t.nb(15,49152,null,0,s.l,[t.h,t.k,t.x],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(n()(),t.Hb(-1,0,["Inschrijven"]))],(function(n,l){var u=l.component;n(l,2,0,u.form),n(l,6,0,"full"),n(l,8,0,u.questions),n(l,10,0,u.questions.length<u.totalQuestions),n(l,12,0,u.activity.price),n(l,15,0,u.form.invalid,"block","submit")}),(function(n,l){n(l,0,0,t.Ab(l,4).ngClassUntouched,t.Ab(l,4).ngClassTouched,t.Ab(l,4).ngClassPristine,t.Ab(l,4).ngClassDirty,t.Ab(l,4).ngClassValid,t.Ab(l,4).ngClassInvalid,t.Ab(l,4).ngClassPending)}))}function I(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,10,"ion-grid",[],null,null,null,o.gb,o.o)),t.nb(1,49152,null,0,s.B,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,8,"ion-row",[],null,null,null,o.wb,o.E)),t.nb(3,49152,null,0,s.hb,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,6,"ion-col",[],null,null,null,o.db,o.l)),t.nb(5,49152,null,0,s.u,[t.h,t.k,t.x],null,null),(n()(),t.ob(6,0,null,0,4,"div",[["class","ion-text-center"]],null,null,null,null,null)),(n()(),t.ob(7,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),t.Hb(-1,null,["Vragen worden geladen"])),(n()(),t.ob(9,0,null,null,1,"ion-spinner",[],null,null,null,o.Bb,o.J)),t.nb(10,49152,null,0,s.qb,[t.h,t.k,t.x],null,null)],null,null)}function J(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,11,"ion-header",[],null,null,null,o.hb,o.p)),t.nb(1,49152,null,0,s.C,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,9,"ion-toolbar",[],null,null,null,o.Jb,o.R)),t.nb(3,49152,null,0,s.Ab,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,o.W,o.e)),t.nb(5,49152,null,0,s.m,[t.h,t.k,t.x],null,null),(n()(),t.ob(6,0,null,0,2,"ion-back-button",[["defaultHref","activities"]],null,[[null,"click"]],(function(n,l,u){var i=!0;return"click"===l&&(i=!1!==t.Ab(n,8).onClick(u)&&i),i}),o.U,o.c)),t.nb(7,49152,null,0,s.h,[t.h,t.k,t.x],{defaultHref:[0,"defaultHref"]},null),t.nb(8,16384,null,0,s.i,[[2,s.gb],s.Gb],{defaultHref:[0,"defaultHref"]},null),(n()(),t.ob(9,0,null,0,2,"ion-title",[],null,null,null,o.Hb,o.P)),t.nb(10,49152,null,0,s.yb,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["Inschrijven"])),(n()(),t.ob(12,0,null,null,11,"ion-content",[["scroll","false"]],null,null,null,o.eb,o.m)),t.nb(13,49152,null,0,s.v,[t.h,t.k,t.x],null,null),(n()(),t.ob(14,0,null,0,6,"ion-header",[["collapse","condense"]],null,null,null,o.hb,o.p)),t.nb(15,49152,null,0,s.C,[t.h,t.k,t.x],{collapse:[0,"collapse"]},null),(n()(),t.ob(16,0,null,0,4,"ion-toolbar",[],null,null,null,o.Jb,o.R)),t.nb(17,49152,null,0,s.Ab,[t.h,t.k,t.x],null,null),(n()(),t.ob(18,0,null,0,2,"ion-title",[["size","large"]],null,null,null,o.Hb,o.P)),t.nb(19,49152,null,0,s.yb,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.Hb(-1,0,["Activiteit"])),(n()(),t.eb(16777216,null,0,1,null,x)),t.nb(22,16384,null,0,b.j,[t.M,t.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),t.eb(0,[["loading",2]],0,0,null,I))],(function(n,l){var u=l.component;n(l,7,0,"activities"),n(l,8,0,"activities"),n(l,15,0,"condense"),n(l,19,0,"large"),n(l,22,0,u.questions,t.Ab(l,23))}),null)}function S(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,1,"app-register",[],null,null,null,J,p)),t.nb(1,114688,null,0,h,[c.a,d.a,a.b,g.a,s.Gb],null,null)],(function(n,l){n(l,1,0)}),null)}var w=t.kb("app-register",h,S,{},{},[]);class E{}u.d(l,"RegisterPageModuleNgFactory",(function(){return M}));var M=t.lb(i,[],(function(n){return t.xb([t.yb(512,t.j,t.X,[[8,[e.a,w]],[3,t.j],t.v]),t.yb(4608,b.l,b.k,[t.s,[2,b.u]]),t.yb(4608,a.o,a.o,[]),t.yb(4608,s.c,s.c,[t.x,t.g]),t.yb(4608,s.Fb,s.Fb,[s.c,t.j,t.p]),t.yb(4608,s.Jb,s.Jb,[s.c,t.j,t.p]),t.yb(4608,a.b,a.b,[]),t.yb(1073742336,b.b,b.b,[]),t.yb(1073742336,a.n,a.n,[]),t.yb(1073742336,a.f,a.f,[]),t.yb(1073742336,s.Cb,s.Cb,[]),t.yb(1073742336,d.o,d.o,[[2,d.t],[2,d.m]]),t.yb(1073742336,E,E,[]),t.yb(1073742336,a.l,a.l,[]),t.yb(1073742336,i,i,[]),t.yb(1024,d.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);