function _defineProperties(n,l){for(var u=0;u<l.length;u++){var t=l[u];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,l,u){return l&&_defineProperties(n.prototype,l),u&&_defineProperties(n,u),n}function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{lZMm:function(n,l,u){"use strict";u.r(l);var t=u("8Y7J"),e=function n(){_classCallCheck(this,n)},i=u("pMnS"),o=u("MKJQ"),a=u("sZkV"),r=u("s7LF"),s=u("SVse"),b=u("mrSG"),c=u("zTOr"),g=u("hCTW"),d=function(){function n(l,u,t,e,i){_classCallCheck(this,n),this.activitiesService=l,this.activatedRoute=u,this.builder=t,this.helper=e,this.router=i,this.page=1}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.getActivity().subscribe((function(l){n.activity=l,n.form=n.builder.group(l.price?{payment:[!1,r.m.requiredTrue]}:{payment:[!1]}),n.activitiesService.getQuestions(n.activityId,1,0).subscribe((function(l){return n.totalQuestions=l.totalItems})),n.activitiesService.getQuestions(n.activityId,n.page).subscribe((function(l){n.questions=l.items,n.setupForm(l.items)}))}))}},{key:"getActivity",value:function(){return this.activityId=this.activatedRoute.snapshot.paramMap.get("activity_id"),this.activitiesService.findById(this.activityId)}},{key:"setupForm",value:function(n){var l=!0,u=!1,t=void 0;try{for(var e,i=n[Symbol.iterator]();!(l=(e=i.next()).done);l=!0){var o=e.value,a=null;3==o.type&&(a=!1);var s=new r.c(a);o.required&&s.setValidators([r.m.required]),this.form.addControl(o.id,s)}}catch(b){u=!0,t=b}finally{try{l||null==i.return||i.return()}finally{if(u)throw t}}}},{key:"onSubmit",value:function(){var n=this;this.form.valid&&this.questions.length==this.totalQuestions&&this.activitiesService.createRegistration(this.activityId,this.createAnswers()).subscribe((function(l){n.helper.presentToast("Succesvol ingeschreven!",{duration:4e3}),n.router.navigateBack("/activities")}),(function(l){return b.a(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.helper.presentToast("Er ging iets mis bij het inschrijven voor de activiteit (".concat(l.error.extra.map((function(n){return n.code})).join(", "),")"),{duration:4e3});case 2:case"end":return n.stop()}}),n,this)})))}))}},{key:"createAnswers",value:function(){var n=[],l=!0,u=!1,t=void 0;try{for(var e,i=this.questions[Symbol.iterator]();!(l=(e=i.next()).done);l=!0){var o=e.value;n.push({questionId:o.id,text:this.form.value[o.id]})}}catch(a){u=!0,t=a}finally{try{l||null==i.return||i.return()}finally{if(u)throw t}}return n}},{key:"loadData",value:function(n){var l=this;setTimeout((function(){l.page++,l.activitiesService.getQuestions(l.activityId,l.page).subscribe((function(n){l.questions=l.questions.concat(n.items),l.setupForm(n.items)})),n.target.complete(),l.questions.length>=l.totalQuestions&&(n.target.disabled=!0)}),500)}}]),n}(),h=u("iInd"),f=t.mb({encapsulation:0,styles:[[".list-margin[_ngcontent-%COMP%]{margin-top:80px;margin-bottom:40px}"]],data:{}});function p(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,6,"ion-input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var e=!0;return"ionBlur"===l&&(e=!1!==t.Ab(n,1)._handleBlurEvent(u.target)&&e),"ionChange"===l&&(e=!1!==t.Ab(n,1)._handleInputEvent(u.target)&&e),e}),o.ib,o.t)),t.nb(1,16384,null,0,a.Mb,[t.k],null,null),t.Eb(1024,null,r.g,(function(n){return[n]}),[a.Mb]),t.nb(3,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.p]],{name:[0,"name"]},null),t.Eb(2048,null,r.h,null,[r.d]),t.nb(5,16384,null,0,r.i,[[4,r.h]],null,null),t.nb(6,49152,null,0,a.H,[t.h,t.k,t.x],{type:[0,"type"]},null)],(function(n,l){n(l,3,0,l.parent.context.$implicit.id),n(l,6,0,"text")}),(function(n,l){n(l,0,0,t.Ab(l,5).ngClassUntouched,t.Ab(l,5).ngClassTouched,t.Ab(l,5).ngClassPristine,t.Ab(l,5).ngClassDirty,t.Ab(l,5).ngClassValid,t.Ab(l,5).ngClassInvalid,t.Ab(l,5).ngClassPending)}))}function v(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,6,"ion-textarea",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var e=!0;return"ionBlur"===l&&(e=!1!==t.Ab(n,1)._handleBlurEvent(u.target)&&e),"ionChange"===l&&(e=!1!==t.Ab(n,1)._handleInputEvent(u.target)&&e),e}),o.Ab,o.L)),t.nb(1,16384,null,0,a.Mb,[t.k],null,null),t.Eb(1024,null,r.g,(function(n){return[n]}),[a.Mb]),t.nb(3,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.p]],{name:[0,"name"]},null),t.Eb(2048,null,r.h,null,[r.d]),t.nb(5,16384,null,0,r.i,[[4,r.h]],null,null),t.nb(6,49152,null,0,a.wb,[t.h,t.k,t.x],null,null)],(function(n,l){n(l,3,0,l.parent.context.$implicit.id)}),(function(n,l){n(l,0,0,t.Ab(l,5).ngClassUntouched,t.Ab(l,5).ngClassTouched,t.Ab(l,5).ngClassPristine,t.Ab(l,5).ngClassDirty,t.Ab(l,5).ngClassValid,t.Ab(l,5).ngClassInvalid,t.Ab(l,5).ngClassPending)}))}function m(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,6,"ion-input",[["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var e=!0;return"ionBlur"===l&&(e=!1!==t.Ab(n,1)._handleBlurEvent(u.target)&&e),"ionChange"===l&&(e=!1!==t.Ab(n,1)._handleIonChange(u.target)&&e),e}),o.ib,o.t)),t.nb(1,16384,null,0,a.Hb,[t.k],null,null),t.Eb(1024,null,r.g,(function(n){return[n]}),[a.Hb]),t.nb(3,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.p]],{name:[0,"name"]},null),t.Eb(2048,null,r.h,null,[r.d]),t.nb(5,16384,null,0,r.i,[[4,r.h]],null,null),t.nb(6,49152,null,0,a.H,[t.h,t.k,t.x],{type:[0,"type"]},null)],(function(n,l){n(l,3,0,l.parent.context.$implicit.id),n(l,6,0,"number")}),(function(n,l){n(l,0,0,t.Ab(l,5).ngClassUntouched,t.Ab(l,5).ngClassTouched,t.Ab(l,5).ngClassPristine,t.Ab(l,5).ngClassDirty,t.Ab(l,5).ngClassValid,t.Ab(l,5).ngClassInvalid,t.Ab(l,5).ngClassPending)}))}function C(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,6,"ion-checkbox",[["slot","start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var e=!0;return"ionBlur"===l&&(e=!1!==t.Ab(n,1)._handleBlurEvent(u.target)&&e),"ionChange"===l&&(e=!1!==t.Ab(n,1)._handleIonChange(u.target)&&e),e}),o.Z,o.k)),t.nb(1,16384,null,0,a.d,[t.k],null,null),t.Eb(1024,null,r.g,(function(n){return[n]}),[a.d]),t.nb(3,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.p]],{name:[0,"name"]},null),t.Eb(2048,null,r.h,null,[r.d]),t.nb(5,16384,null,0,r.i,[[4,r.h]],null,null),t.nb(6,49152,null,0,a.s,[t.h,t.k,t.x],null,null)],(function(n,l){n(l,3,0,l.parent.context.$implicit.id)}),(function(n,l){n(l,0,0,t.Ab(l,5).ngClassUntouched,t.Ab(l,5).ngClassTouched,t.Ab(l,5).ngClassPristine,t.Ab(l,5).ngClassDirty,t.Ab(l,5).ngClassValid,t.Ab(l,5).ngClassInvalid,t.Ab(l,5).ngClassPending)}))}function y(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,14,"ion-item",[],null,null,null,o.jb,o.u)),t.nb(1,49152,null,0,a.I,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,o.kb,o.v)),t.nb(3,49152,null,0,a.O,[t.h,t.k,t.x],{position:[0,"position"]},null),(n()(),t.Hb(4,0,["",""])),(n()(),t.ob(5,0,null,0,9,"div",[],null,null,null,null,null)),t.nb(6,16384,null,0,s.m,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),t.eb(16777216,null,null,1,null,p)),t.nb(8,278528,null,0,s.n,[t.M,t.J,s.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t.eb(16777216,null,null,1,null,v)),t.nb(10,278528,null,0,s.n,[t.M,t.J,s.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t.eb(16777216,null,null,1,null,m)),t.nb(12,278528,null,0,s.n,[t.M,t.J,s.m],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t.eb(16777216,null,null,1,null,C)),t.nb(14,278528,null,0,s.n,[t.M,t.J,s.m],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,l){n(l,3,0,"stacked"),n(l,6,0,l.context.$implicit.type),n(l,8,0,0),n(l,10,0,1),n(l,12,0,2),n(l,14,0,3)}),(function(n,l){n(l,4,0,l.context.$implicit.text)}))}function k(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,3,"ion-infinite-scroll",[["threshold","5%"]],null,[[null,"ionInfinite"]],(function(n,l,u){var t=!0;return"ionInfinite"===l&&(t=!1!==n.component.loadData(u)&&t),t}),o.hb,o.r)),t.nb(1,49152,null,0,a.F,[t.h,t.k,t.x],{threshold:[0,"threshold"]},null),(n()(),t.ob(2,0,null,0,1,"ion-infinite-scroll-content",[["loadingText","Meer vragen aan het ophalen"]],null,null,null,o.gb,o.s)),t.nb(3,49152,null,0,a.G,[t.h,t.k,t.x],{loadingText:[0,"loadingText"]},null)],(function(n,l){n(l,1,0,"5%"),n(l,3,0,"Meer vragen aan het ophalen")}),null)}function A(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,11,"ion-item",[],null,null,null,o.jb,o.u)),t.nb(1,49152,null,0,a.I,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,6,"ion-checkbox",[["formControlName","payment"],["slot","start"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var e=!0;return"ionBlur"===l&&(e=!1!==t.Ab(n,3)._handleBlurEvent(u.target)&&e),"ionChange"===l&&(e=!1!==t.Ab(n,3)._handleIonChange(u.target)&&e),e}),o.Z,o.k)),t.nb(3,16384,null,0,a.d,[t.k],null,null),t.Eb(1024,null,r.g,(function(n){return[n]}),[a.d]),t.nb(5,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.p]],{name:[0,"name"]},null),t.Eb(2048,null,r.h,null,[r.d]),t.nb(7,16384,null,0,r.i,[[4,r.h]],null,null),t.nb(8,49152,null,0,a.s,[t.h,t.k,t.x],null,null),(n()(),t.ob(9,0,null,0,2,"ion-label",[["text-wrap",""]],null,null,null,o.kb,o.v)),t.nb(10,49152,null,0,a.O,[t.h,t.k,t.x],null,null),(n()(),t.Hb(11,0,["Ik ga akkoord met een incasso van de activiteitskosten (max. \u20ac",")"]))],(function(n,l){n(l,5,0,"payment")}),(function(n,l){var u=l.component;n(l,2,0,t.Ab(l,7).ngClassUntouched,t.Ab(l,7).ngClassTouched,t.Ab(l,7).ngClassPristine,t.Ab(l,7).ngClassDirty,t.Ab(l,7).ngClassValid,t.Ab(l,7).ngClassInvalid,t.Ab(l,7).ngClassPending),n(l,11,0,u.activity.price)}))}function x(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,16,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,u){var e=!0,i=n.component;return"submit"===l&&(e=!1!==t.Ab(n,2).onSubmit(u)&&e),"reset"===l&&(e=!1!==t.Ab(n,2).onReset()&&e),"ngSubmit"===l&&(e=!1!==i.onSubmit()&&e),e}),null,null)),t.nb(1,16384,null,0,r.q,[],null,null),t.nb(2,540672,null,0,r.e,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Eb(2048,null,r.a,null,[r.e]),t.nb(4,16384,null,0,r.j,[[4,r.a]],null,null),(n()(),t.ob(5,0,null,null,3,"ion-list",[["class","ion-no-margin ion-no-padding question-list"],["lines","full"]],null,null,null,o.mb,o.w)),t.nb(6,49152,null,0,a.P,[t.h,t.k,t.x],{lines:[0,"lines"]},null),(n()(),t.eb(16777216,null,0,1,null,y)),t.nb(8,278528,null,0,s.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.eb(16777216,null,null,1,null,k)),t.nb(10,16384,null,0,s.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.eb(16777216,null,null,1,null,A)),t.nb(12,16384,null,0,s.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.ob(13,0,null,null,3,"section",[["class","ion-padding"]],null,null,null,null,null)),(n()(),t.ob(14,0,null,null,2,"ion-button",[["expand","block"],["type","submit"]],null,null,null,o.S,o.d)),t.nb(15,49152,null,0,a.l,[t.h,t.k,t.x],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(n()(),t.Hb(-1,0,["Inschrijven"]))],(function(n,l){var u=l.component;n(l,2,0,u.form),n(l,6,0,"full"),n(l,8,0,u.questions),n(l,10,0,u.questions.length<u.totalQuestions),n(l,12,0,u.activity.price),n(l,15,0,u.form.invalid,"block","submit")}),(function(n,l){n(l,0,0,t.Ab(l,4).ngClassUntouched,t.Ab(l,4).ngClassTouched,t.Ab(l,4).ngClassPristine,t.Ab(l,4).ngClassDirty,t.Ab(l,4).ngClassValid,t.Ab(l,4).ngClassInvalid,t.Ab(l,4).ngClassPending)}))}function I(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,10,"ion-grid",[],null,null,null,o.db,o.o)),t.nb(1,49152,null,0,a.B,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,8,"ion-row",[],null,null,null,o.qb,o.B)),t.nb(3,49152,null,0,a.hb,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,6,"ion-col",[],null,null,null,o.ab,o.l)),t.nb(5,49152,null,0,a.u,[t.h,t.k,t.x],null,null),(n()(),t.ob(6,0,null,0,4,"div",[["class","ion-text-center"]],null,null,null,null,null)),(n()(),t.ob(7,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),t.Hb(-1,null,["Vragen worden geladen"])),(n()(),t.ob(9,0,null,null,1,"ion-spinner",[],null,null,null,o.vb,o.G)),t.nb(10,49152,null,0,a.qb,[t.h,t.k,t.x],null,null)],null,null)}function w(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,11,"ion-header",[],null,null,null,o.eb,o.p)),t.nb(1,49152,null,0,a.C,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,9,"ion-toolbar",[],null,null,null,o.Db,o.O)),t.nb(3,49152,null,0,a.Ab,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,o.T,o.e)),t.nb(5,49152,null,0,a.m,[t.h,t.k,t.x],null,null),(n()(),t.ob(6,0,null,0,2,"ion-back-button",[["defaultHref","activities"]],null,[[null,"click"]],(function(n,l,u){var e=!0;return"click"===l&&(e=!1!==t.Ab(n,8).onClick(u)&&e),e}),o.R,o.c)),t.nb(7,49152,null,0,a.h,[t.h,t.k,t.x],{defaultHref:[0,"defaultHref"]},null),t.nb(8,16384,null,0,a.i,[[2,a.gb],a.Gb],{defaultHref:[0,"defaultHref"]},null),(n()(),t.ob(9,0,null,0,2,"ion-title",[],null,null,null,o.Bb,o.M)),t.nb(10,49152,null,0,a.yb,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["Inschrijven"])),(n()(),t.ob(12,0,null,null,11,"ion-content",[["scroll","false"]],null,null,null,o.bb,o.m)),t.nb(13,49152,null,0,a.v,[t.h,t.k,t.x],null,null),(n()(),t.ob(14,0,null,0,6,"ion-header",[["collapse","condense"]],null,null,null,o.eb,o.p)),t.nb(15,49152,null,0,a.C,[t.h,t.k,t.x],{collapse:[0,"collapse"]},null),(n()(),t.ob(16,0,null,0,4,"ion-toolbar",[],null,null,null,o.Db,o.O)),t.nb(17,49152,null,0,a.Ab,[t.h,t.k,t.x],null,null),(n()(),t.ob(18,0,null,0,2,"ion-title",[["size","large"]],null,null,null,o.Bb,o.M)),t.nb(19,49152,null,0,a.yb,[t.h,t.k,t.x],{size:[0,"size"]},null),(n()(),t.Hb(-1,0,["Activiteit"])),(n()(),t.eb(16777216,null,0,1,null,x)),t.nb(22,16384,null,0,s.j,[t.M,t.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),t.eb(0,[["loading",2]],0,0,null,I))],(function(n,l){var u=l.component;n(l,7,0,"activities"),n(l,8,0,"activities"),n(l,15,0,"condense"),n(l,19,0,"large"),n(l,22,0,u.questions,t.Ab(l,23))}),null)}var S=t.kb("app-register",d,(function(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,1,"app-register",[],null,null,null,w,f)),t.nb(1,114688,null,0,d,[c.a,h.a,r.b,g.a,a.Gb],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),J=function n(){_classCallCheck(this,n)};u.d(l,"RegisterPageModuleNgFactory",(function(){return E}));var E=t.lb(e,[],(function(n){return t.xb([t.yb(512,t.j,t.X,[[8,[i.a,S]],[3,t.j],t.v]),t.yb(4608,s.l,s.k,[t.s,[2,s.u]]),t.yb(4608,r.o,r.o,[]),t.yb(4608,a.c,a.c,[t.x,t.g]),t.yb(4608,a.Fb,a.Fb,[a.c,t.j,t.p]),t.yb(4608,a.Jb,a.Jb,[a.c,t.j,t.p]),t.yb(4608,r.b,r.b,[]),t.yb(1073742336,s.b,s.b,[]),t.yb(1073742336,r.n,r.n,[]),t.yb(1073742336,r.f,r.f,[]),t.yb(1073742336,a.Cb,a.Cb,[]),t.yb(1073742336,h.o,h.o,[[2,h.t],[2,h.m]]),t.yb(1073742336,J,J,[]),t.yb(1073742336,r.l,r.l,[]),t.yb(1073742336,e,e,[]),t.yb(1024,h.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);