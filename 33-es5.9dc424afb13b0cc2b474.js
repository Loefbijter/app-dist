function _defineProperties(n,l){for(var e=0;e<l.length;e++){var u=l[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,u.key,u)}}function _createClass(n,l,e){return l&&_defineProperties(n.prototype,l),e&&_defineProperties(n,e),n}function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{z1Xk:function(n,l,e){"use strict";e.r(l);var u,t=e("8Y7J"),i=function n(){_classCallCheck(this,n)},o=e("pMnS"),a=e("MKJQ"),r=e("sZkV"),s=e("s7LF"),c=e("SVse"),b=e("mrSG"),d=e("AytR"),h=e("IheW"),g=((u=function(){function n(l){_classCallCheck(this,n),this.http=l,this.url=d.a.API_URL}return _createClass(n,[{key:"getPage",value:function(n){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return this.http.get("".concat(this.url,"boats/").concat(n,"/damages?page=").concat(l,"&limit=").concat(e))}},{key:"findById",value:function(n){return this.http.get("".concat(this.url,"damages/").concat(n))}},{key:"create",value:function(n,l){return this.http.post("".concat(this.url,"boats/").concat(n,"/damages"),l)}}]),n}()).ngInjectableDef=t.Nb({factory:function(){return new u(t.Ob(h.c))},token:u,providedIn:"root"}),u),p=e("BA3h"),f=e("cp0P"),m=e("hCTW"),v=function(){function n(l,e,u,t,i){_classCallCheck(this,n),this.damagesService=l,this.reservationsService=e,this.activatedRoute=u,this.router=t,this.toastController=i,this.canSubmit=!1,this.reservationId=this.activatedRoute.snapshot.paramMap.get("reservation_id"),this.newDamages=[]}return _createClass(n,[{key:"ionViewWillEnter",value:function(){var n=this;this.canSubmit=!1,this.reservationsService.findById(this.reservationId).subscribe((function(l){n.reservation=l,n.damagesService.getPage(l.boatId,1,0).subscribe((function(e){n.damagesService.getPage(l.boatId,1,e.totalItems).subscribe((function(l){n.damages=l.items.filter((function(n){return null==n.resolvedAt})),n.canSubmit=!0}))}))}))}},{key:"addDamage",value:function(){this.newDamages.push({description:""}),this.formUpdated()}},{key:"deleteDamage",value:function(n){for(var l=-1,e=0;e<this.newDamages.length;e++)if(this.newDamages[e].description===n.description){l=e;break}return l>=0&&(this.newDamages.splice(l,1),this.formUpdated(),!0)}},{key:"processForm",value:function(){return b.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e,u=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.canSubmit=!1,n.next=3,this.toastController.create({message:"Logboek is opgeslagen.",duration:m.b});case 3:if(l=n.sent,n.t0=0===this.newDamages.length,!n.t0){n.next=9;break}return n.next=8,l.present();case 8:this.router.navigate(["/reservations",this.reservation.id]);case 9:e=[],this.newDamages.forEach((function(n){e.push(u.damagesService.create(u.reservation.boatId,n))})),Object(f.a)(e).subscribe((function(){return b.a(u,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.present();case 2:return n.next=4,this.router.navigate(["/reservations",this.reservation.id]);case 4:case"end":return n.stop()}}),n,this)})))}));case 11:case"end":return n.stop()}}),n,this)})))}},{key:"formUpdated",value:function(){var n=this;this.canSubmit=!0,this.newDamages.forEach((function(l){return b.a(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(""===l.description||l.description.length<=5)&&(this.canSubmit=!1);case 1:case"end":return n.stop()}}),n,this)})))}))}}]),n}(),k=e("iInd"),x=t.mb({encapsulation:0,styles:[[".mt-5[_ngcontent-%COMP%]{margin-top:30px}"]],data:{}});function y(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,2,"ion-item",[],null,null,null,a.jb,a.u)),t.nb(1,49152,null,0,r.I,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,[" Nog geen schade gemeld "]))],null,null)}function w(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,2,"ion-item",[],null,null,null,a.jb,a.u)),t.nb(1,49152,null,0,r.I,[t.h,t.k,t.x],null,null),(n()(),t.Hb(2,0,[" "," "]))],null,(function(n,l){n(l,2,0,l.context.$implicit.description)}))}function C(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,10,"ion-item",[],null,null,null,a.jb,a.u)),t.nb(1,49152,null,0,r.I,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,6,"ion-input",[["placeholder","Omschrijving van schade"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],(function(n,l,e){var u=!0,i=n.component;return"ionBlur"===l&&(u=!1!==t.Ab(n,3)._handleBlurEvent(e.target)&&u),"ionChange"===l&&(u=!1!==t.Ab(n,3)._handleInputEvent(e.target)&&u),"ngModelChange"===l&&(u=!1!==(n.context.$implicit.description=e)&&u),"ionChange"===l&&(u=!1!==i.formUpdated()&&u),u}),a.ib,a.t)),t.nb(3,16384,null,0,r.Mb,[t.k],null,null),t.Eb(1024,null,s.g,(function(n){return[n]}),[r.Mb]),t.nb(5,671744,null,0,s.k,[[8,null],[8,null],[8,null],[6,s.g]],{model:[0,"model"]},{update:"ngModelChange"}),t.Eb(2048,null,s.h,null,[s.k]),t.nb(7,16384,null,0,s.i,[[4,s.h]],null,null),t.nb(8,49152,null,0,r.H,[t.h,t.k,t.x],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(n()(),t.ob(9,0,null,0,1,"ion-icon",[["icon","close"],["slot","end"]],null,[[null,"click"]],(function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.deleteDamage(n.context.$implicit)&&u),u}),a.fb,a.q)),t.nb(10,49152,null,0,r.D,[t.h,t.k,t.x],{icon:[0,"icon"]},null)],(function(n,l){n(l,5,0,l.context.$implicit.description),n(l,8,0,"Omschrijving van schade","text"),n(l,10,0,"close")}),(function(n,l){n(l,2,0,t.Ab(l,7).ngClassUntouched,t.Ab(l,7).ngClassTouched,t.Ab(l,7).ngClassPristine,t.Ab(l,7).ngClassDirty,t.Ab(l,7).ngClassValid,t.Ab(l,7).ngClassInvalid,t.Ab(l,7).ngClassPending)}))}function I(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,25,"div",[["class","ion-padding"]],null,null,null,null,null)),(n()(),t.ob(1,0,null,null,10,"ion-list",[],null,null,null,a.mb,a.w)),t.nb(2,49152,null,0,r.P,[t.h,t.k,t.x],null,null),(n()(),t.ob(3,0,null,0,4,"ion-list-header",[],null,null,null,a.lb,a.x)),t.nb(4,49152,null,0,r.Q,[t.h,t.k,t.x],null,null),(n()(),t.ob(5,0,null,0,2,"ion-label",[],null,null,null,a.kb,a.v)),t.nb(6,49152,null,0,r.O,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["Bestaande schade"])),(n()(),t.eb(16777216,null,0,1,null,y)),t.nb(9,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.eb(16777216,null,0,1,null,w)),t.nb(11,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.ob(12,0,null,null,11,"ion-list",[],null,null,null,a.mb,a.w)),t.nb(13,49152,null,0,r.P,[t.h,t.k,t.x],null,null),(n()(),t.ob(14,0,null,0,7,"ion-list-header",[["class","mt-5"]],null,null,null,a.lb,a.x)),t.nb(15,49152,null,0,r.Q,[t.h,t.k,t.x],null,null),(n()(),t.ob(16,0,null,0,2,"ion-label",[],null,null,null,a.kb,a.v)),t.nb(17,49152,null,0,r.O,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["Nieuwe schade"])),(n()(),t.ob(19,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.addDamage()&&u),u}),a.S,a.d)),t.nb(20,49152,null,0,r.l,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["+"])),(n()(),t.eb(16777216,null,0,1,null,C)),t.nb(23,278528,null,0,c.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(n()(),t.ob(24,0,null,null,1,"p",[["class","ion-padding-horizontal"]],null,null,null,null,null)),(n()(),t.Hb(-1,null,[" Heb je nieuwe schade gevaren, of heb je een ander probleem ontdekt? Vul het hierboven in! "]))],(function(n,l){var e=l.component;n(l,9,0,0==e.damages.length),n(l,11,0,e.damages),n(l,23,0,e.newDamages)}),null)}function j(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,1,"div",[["class","footer-subtitle"]],null,null,null,null,null)),(n()(),t.Hb(-1,null,[" Als je doorgaat naar de volgende stap wordt deze informatie opgeslagen en kan je deze niet meer wijzigen. "]))],null,null)}function S(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,1,"div",[["class","footer-subtitle"]],null,null,null,null,null)),(n()(),t.Hb(-1,null,[" Vul bij alle toegevoegde schadeobjecten een beschrijving in van minimaal 6 karakters! "]))],null,null)}function J(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,10,"ion-grid",[],null,null,null,a.db,a.o)),t.nb(1,49152,null,0,r.B,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,8,"ion-row",[],null,null,null,a.qb,a.B)),t.nb(3,49152,null,0,r.hb,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,6,"ion-col",[],null,null,null,a.ab,a.l)),t.nb(5,49152,null,0,r.u,[t.h,t.k,t.x],null,null),(n()(),t.ob(6,0,null,0,4,"div",[["class","ion-text-center"]],null,null,null,null,null)),(n()(),t.ob(7,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),t.Hb(-1,null,["Schade wordt opgehaald"])),(n()(),t.ob(9,0,null,null,1,"ion-spinner",[],null,null,null,a.vb,a.G)),t.nb(10,49152,null,0,r.qb,[t.h,t.k,t.x],null,null)],null,null)}function D(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,6,"ion-header",[],null,null,null,a.eb,a.p)),t.nb(1,49152,null,0,r.C,[t.h,t.k,t.x],null,null),(n()(),t.ob(2,0,null,0,4,"ion-toolbar",[],null,null,null,a.Db,a.O)),t.nb(3,49152,null,0,r.Ab,[t.h,t.k,t.x],null,null),(n()(),t.ob(4,0,null,0,2,"ion-title",[],null,null,null,a.Bb,a.M)),t.nb(5,49152,null,0,r.yb,[t.h,t.k,t.x],null,null),(n()(),t.Hb(-1,0,["Schade van deze boot"])),(n()(),t.ob(7,0,null,null,12,"ion-content",[],null,null,null,a.bb,a.m)),t.nb(8,49152,null,0,r.v,[t.h,t.k,t.x],null,null),(n()(),t.eb(16777216,null,0,1,null,I)),t.nb(10,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),t.ob(11,0,null,0,7,"div",[["class","ion-padding"]],null,null,null,null,null)),(n()(),t.ob(12,0,null,null,2,"ion-button",[["class","ion-no-margin"],["expand","block"],["type","submit"]],null,[[null,"click"]],(function(n,l,e){var u=!0;return"click"===l&&(u=!1!==n.component.processForm()&&u),u}),a.S,a.d)),t.nb(13,49152,null,0,r.l,[t.h,t.k,t.x],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(n()(),t.Hb(-1,0,[" Schade opslaan "])),(n()(),t.eb(16777216,null,null,1,null,j)),t.nb(16,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.eb(16777216,null,null,1,null,S)),t.nb(18,16384,null,0,c.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(n()(),t.eb(0,[["loading",2]],0,0,null,J))],(function(n,l){var e=l.component;n(l,10,0,e.damages,t.Ab(l,19)),n(l,13,0,!e.canSubmit,"block","submit"),n(l,16,0,e.canSubmit),n(l,18,0,!e.canSubmit)}),null)}var M=t.kb("app-reservation-update-logs",v,(function(n){return t.Jb(0,[(n()(),t.ob(0,0,null,null,1,"app-reservation-update-logs",[],null,null,null,D,x)),t.nb(1,49152,null,0,v,[g,p.a,k.a,k.m,r.Nb],null,null)],null,null)}),{},{},[]),A=function n(){_classCallCheck(this,n)};e.d(l,"ReservationUpdateLogsPageModuleNgFactory",(function(){return _}));var _=t.lb(i,[],(function(n){return t.xb([t.yb(512,t.j,t.X,[[8,[o.a,M]],[3,t.j],t.v]),t.yb(4608,c.l,c.k,[t.s,[2,c.u]]),t.yb(4608,s.o,s.o,[]),t.yb(4608,r.c,r.c,[t.x,t.g]),t.yb(4608,r.Fb,r.Fb,[r.c,t.j,t.p]),t.yb(4608,r.Jb,r.Jb,[r.c,t.j,t.p]),t.yb(1073742336,c.b,c.b,[]),t.yb(1073742336,s.n,s.n,[]),t.yb(1073742336,s.f,s.f,[]),t.yb(1073742336,r.Cb,r.Cb,[]),t.yb(1073742336,k.o,k.o,[[2,k.t],[2,k.m]]),t.yb(1073742336,A,A,[]),t.yb(1073742336,i,i,[]),t.yb(1024,k.k,(function(){return[[{path:"",component:v}]]}),[])])}))}}]);