function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,l){for(var e=0;e<l.length;e++){var u=l[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,u.key,u)}}function _createClass(n,l,e){return l&&_defineProperties(n.prototype,l),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Nj8O:function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var u=e("AytR"),t=e("8Y7J"),a=e("IheW"),i=function(){var n=function(){function n(l){_classCallCheck(this,n),this.http=l}return _createClass(n,[{key:"getAll",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return this.http.get("".concat(u.a.API_URL,"materials?page=").concat(n,"&limit=").concat(l))}},{key:"findById",value:function(n){return this.http.get("".concat(u.a.API_URL,"materials/").concat(n))}}]),n}();return n.ngInjectableDef=t.Nb({factory:function(){return new n(t.Ob(a.c))},token:n,providedIn:"root"}),n}()},"S/TM":function(n,l,e){"use strict";e.r(l);var u=e("8Y7J"),t=function n(){_classCallCheck(this,n)},a=e("pMnS"),i=e("MKJQ"),r=e("sZkV"),o=e("s7LF"),s=e("SVse"),b=e("iInd"),m=e("mrSG"),d=e("wd/R"),c=e("Nj8O"),g=e("nHN9"),h=e("hCTW"),p=function(){function n(l,e,u,t,a,i){_classCallCheck(this,n),this.materialService=l,this.materialReservationService=e,this.activatedRoute=u,this.router=t,this.toastController=a,this.formBuilder=i,this.dayNames=["Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"],this.monthNames=["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],this.minDate=d().add(10,"minutes").format("YYYY-MM-DD"),this.maxDate=d().add(1,"year").format("YYYY-MM-DD"),this.customTimesValidator=function(n){var l=n.get("startTimestamp").value,e=n.get("endTimestamp").value;return null!==l&&null!==e&&l<e?null:{range:!0}}}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.materialService.findById(this.activatedRoute.snapshot.paramMap.get("material_id")).subscribe((function(l){n.material=l})),this.form=this.formBuilder.group({date:["",[o.m.required]],startTimestamp:["",[o.m.required]],endTimestamp:["",[o.m.required]],amount:["",[o.m.required,o.m.min(1)]]},{validator:this.customTimesValidator})}},{key:"formUpdated",value:function(){return m.a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,e,u,t,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=this.form.get("date").value,e=this.form.get("startTimestamp").value,u=this.form.get("endTimestamp").value,t=d(d(l).format("YYYY-MM-DD")+" "+d(e).format("HH:mm")),!(d(t).diff(d().add("10","minutes"))<0&&null!=e&&null!=u)){n.next=7;break}return n.next=4,this.toastController.create({message:"Je moet je reservering minimaal 15 minuten van tevoren aanmaken!",duration:h.b,buttons:[{text:"Ok\xe9",role:"cancel"}]});case 4:return a=n.sent,n.next=7,a.present();case 7:case"end":return n.stop()}}),n,this)})))}},{key:"processForm",value:function(){var n=this;this.form.disable();var l=d(this.form.get("date").value).format("YYYY-MM-DD")+" "+d(this.form.get("startTimestamp").value).format("HH:mm"),e=d(this.form.get("date").value).format("YYYY-MM-DD")+" "+d(this.form.get("endTimestamp").value).format("HH:mm"),u={materialId:this.material.id,startTimestamp:d(l,"YYYY-MM-DD HH:mm").unix(),endTimestamp:d(e,"YYYY-MM-DD HH:mm").unix(),amount:1};this.materialReservationService.create(u).subscribe({error:function(l){return m.a(n,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.form.enable(),n.next=3,this.toastController.create({header:"Reservering niet aangemaakt",message:'Er ging iets mis tijdens het aanmaken van de reservering, probeer het later opnieuw."',buttons:["Ok\xe9"]});case 3:n.sent.present();case 4:case"end":return n.stop()}}),n,this)})))},complete:function(){n.form.reset(),n.router.navigateBack(["/material-reservations"])}})}}]),n}(),f=u.mb({encapsulation:0,styles:[[""]],data:{}});function v(n){return u.Jb(0,[(n()(),u.ob(0,0,null,null,10,"ion-card",[],null,null,null,i.Y,i.f)),u.nb(1,49152,null,0,r.n,[u.h,u.k,u.x],null,null),(n()(),u.ob(2,0,null,0,4,"ion-card-header",[],null,null,null,i.V,i.h)),u.nb(3,49152,null,0,r.p,[u.h,u.k,u.x],null,null),(n()(),u.ob(4,0,null,0,2,"ion-card-title",[],null,null,null,i.X,i.j)),u.nb(5,49152,null,0,r.r,[u.h,u.k,u.x],null,null),(n()(),u.Hb(6,0,[" "," "])),(n()(),u.ob(7,0,null,0,3,"ion-card-content",[],null,null,null,i.U,i.g)),u.nb(8,49152,null,0,r.o,[u.h,u.k,u.x],null,null),(n()(),u.ob(9,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),u.Hb(10,null,["Maak een nieuwe reservering aan voor ",""]))],null,(function(n,l){var e=l.component;n(l,6,0,e.material.name),n(l,10,0,e.material.name)}))}function k(n){return u.Jb(0,[(n()(),u.ob(0,0,null,null,3,"ion-text",[],null,null,null,i.zb,i.K)),u.nb(1,49152,null,0,r.vb,[u.h,u.k,u.x],null,null),(n()(),u.ob(2,0,null,0,1,"p",[["class","undertitle"]],null,null,null,null,null)),(n()(),u.Hb(-1,null,[" Je kan materiaal maximaal 15 minuten van tevoren reserveren! Zorg dat de begintijd voor je eindtijd ligt en dat er een hoeveelheid is geselecteerd! "]))],null,null)}function C(n){return u.Jb(0,[(n()(),u.ob(0,0,null,null,60,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,e){var t=!0,a=n.component;return"submit"===l&&(t=!1!==u.Ab(n,2).onSubmit(e)&&t),"reset"===l&&(t=!1!==u.Ab(n,2).onReset()&&t),"ngSubmit"===l&&(t=!1!==a.processForm()&&t),t}),null,null)),u.nb(1,16384,null,0,o.q,[],null,null),u.nb(2,540672,null,0,o.e,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Eb(2048,null,o.a,null,[o.e]),u.nb(4,16384,null,0,o.j,[[4,o.a]],null,null),(n()(),u.ob(5,0,null,null,49,"ion-list",[["class","ion-no-margin ion-no-padding"],["lines","full"]],null,null,null,i.mb,i.w)),u.nb(6,49152,null,0,r.P,[u.h,u.k,u.x],{lines:[0,"lines"]},null),(n()(),u.ob(7,0,null,0,11,"ion-item",[],null,null,null,i.jb,i.u)),u.nb(8,49152,null,0,r.I,[u.h,u.k,u.x],null,null),(n()(),u.ob(9,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.kb,i.v)),u.nb(10,49152,null,0,r.O,[u.h,u.k,u.x],{position:[0,"position"]},null),(n()(),u.Hb(-1,0,["Voor wanneer wil je materiaal reserveren?"])),(n()(),u.ob(12,0,null,0,6,"ion-datetime",[["cancelText","Annuleren"],["displayFormat","DD MMMM YYYY"],["doneText","Klaar"],["formControlName","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==u.Ab(n,13)._handleBlurEvent(e.target)&&t),"ionChange"===l&&(t=!1!==u.Ab(n,13)._handleChangeEvent(e.target)&&t),t}),i.cb,i.n)),u.nb(13,16384,null,0,r.Lb,[u.k],null,null),u.Eb(1024,null,o.g,(function(n){return[n]}),[r.Lb]),u.nb(15,671744,null,0,o.d,[[3,o.a],[8,null],[8,null],[6,o.g],[2,o.p]],{name:[0,"name"]},null),u.Eb(2048,null,o.h,null,[o.d]),u.nb(17,16384,null,0,o.i,[[4,o.h]],null,null),u.nb(18,49152,null,0,r.w,[u.h,u.k,u.x],{cancelText:[0,"cancelText"],dayNames:[1,"dayNames"],displayFormat:[2,"displayFormat"],doneText:[3,"doneText"],max:[4,"max"],min:[5,"min"],monthNames:[6,"monthNames"]},null),(n()(),u.ob(19,0,null,0,11,"ion-item",[],null,null,null,i.jb,i.u)),u.nb(20,49152,null,0,r.I,[u.h,u.k,u.x],null,null),(n()(),u.ob(21,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.kb,i.v)),u.nb(22,49152,null,0,r.O,[u.h,u.k,u.x],{position:[0,"position"]},null),(n()(),u.Hb(-1,0,["Vanaf hoe laat?"])),(n()(),u.ob(24,0,null,0,6,"ion-datetime",[["cancelText","Annuleren"],["displayFormat","HH:mm"],["doneText","Klaar"],["formControlName","startTimestamp"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ionBlur"]],(function(n,l,e){var t=!0,a=n.component;return"ionBlur"===l&&(t=!1!==u.Ab(n,25)._handleBlurEvent(e.target)&&t),"ionChange"===l&&(t=!1!==u.Ab(n,25)._handleChangeEvent(e.target)&&t),"ionChange"===l&&(t=!1!==a.formUpdated()&&t),t}),i.cb,i.n)),u.nb(25,16384,null,0,r.Lb,[u.k],null,null),u.Eb(1024,null,o.g,(function(n){return[n]}),[r.Lb]),u.nb(27,671744,null,0,o.d,[[3,o.a],[8,null],[8,null],[6,o.g],[2,o.p]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),u.Eb(2048,null,o.h,null,[o.d]),u.nb(29,16384,null,0,o.i,[[4,o.h]],null,null),u.nb(30,49152,null,0,r.w,[u.h,u.k,u.x],{cancelText:[0,"cancelText"],disabled:[1,"disabled"],displayFormat:[2,"displayFormat"],doneText:[3,"doneText"]},null),(n()(),u.ob(31,0,null,0,11,"ion-item",[],null,null,null,i.jb,i.u)),u.nb(32,49152,null,0,r.I,[u.h,u.k,u.x],null,null),(n()(),u.ob(33,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.kb,i.v)),u.nb(34,49152,null,0,r.O,[u.h,u.k,u.x],{position:[0,"position"]},null),(n()(),u.Hb(-1,0,["Tot hoe laat?"])),(n()(),u.ob(36,0,null,0,6,"ion-datetime",[["cancelText","Annuleren"],["displayFormat","HH:mm"],["doneText","Klaar"],["formControlName","endTimestamp"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ionBlur"]],(function(n,l,e){var t=!0,a=n.component;return"ionBlur"===l&&(t=!1!==u.Ab(n,37)._handleBlurEvent(e.target)&&t),"ionChange"===l&&(t=!1!==u.Ab(n,37)._handleChangeEvent(e.target)&&t),"ionChange"===l&&(t=!1!==a.formUpdated()&&t),t}),i.cb,i.n)),u.nb(37,16384,null,0,r.Lb,[u.k],null,null),u.Eb(1024,null,o.g,(function(n){return[n]}),[r.Lb]),u.nb(39,671744,null,0,o.d,[[3,o.a],[8,null],[8,null],[6,o.g],[2,o.p]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),u.Eb(2048,null,o.h,null,[o.d]),u.nb(41,16384,null,0,o.i,[[4,o.h]],null,null),u.nb(42,49152,null,0,r.w,[u.h,u.k,u.x],{cancelText:[0,"cancelText"],disabled:[1,"disabled"],displayFormat:[2,"displayFormat"],doneText:[3,"doneText"],min:[4,"min"]},null),(n()(),u.ob(43,0,null,0,11,"ion-item",[],null,null,null,i.jb,i.u)),u.nb(44,49152,null,0,r.I,[u.h,u.k,u.x],null,null),(n()(),u.ob(45,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.kb,i.v)),u.nb(46,49152,null,0,r.O,[u.h,u.k,u.x],{position:[0,"position"]},null),(n()(),u.Hb(-1,0,["Hoeveelheid"])),(n()(),u.ob(48,0,null,0,6,"ion-input",[["formControlName","amount"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ionBlur"]],(function(n,l,e){var t=!0,a=n.component;return"ionBlur"===l&&(t=!1!==u.Ab(n,49)._handleBlurEvent(e.target)&&t),"ionChange"===l&&(t=!1!==u.Ab(n,49)._handleIonChange(e.target)&&t),"ionChange"===l&&(t=!1!==a.formUpdated()&&t),t}),i.ib,i.t)),u.nb(49,16384,null,0,r.Hb,[u.k],null,null),u.Eb(1024,null,o.g,(function(n){return[n]}),[r.Hb]),u.nb(51,671744,null,0,o.d,[[3,o.a],[8,null],[8,null],[6,o.g],[2,o.p]],{name:[0,"name"]},null),u.Eb(2048,null,o.h,null,[o.d]),u.nb(53,16384,null,0,o.i,[[4,o.h]],null,null),u.nb(54,49152,null,0,r.H,[u.h,u.k,u.x],{type:[0,"type"]},null),(n()(),u.ob(55,0,null,null,5,"div",[["class","ion-padding"]],null,null,null,null,null)),(n()(),u.eb(16777216,null,null,1,null,k)),u.nb(57,16384,null,0,s.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(n()(),u.ob(58,0,null,null,2,"ion-button",[["class","ion-no-margin"],["expand","block"],["type","submit"]],null,null,null,i.S,i.d)),u.nb(59,49152,null,0,r.l,[u.h,u.k,u.x],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(n()(),u.Hb(-1,0,[" Reservering aanmaken "]))],(function(n,l){var e=l.component;n(l,2,0,e.form),n(l,6,0,"full"),n(l,10,0,"stacked"),n(l,15,0,"date"),n(l,18,0,"Annuleren",e.dayNames,"DD MMMM YYYY","Klaar",e.maxDate,e.minDate,e.monthNames),n(l,22,0,"stacked"),n(l,27,0,"startTimestamp",e.form.get("date").invalid),n(l,30,0,"Annuleren",e.form.get("date").invalid,"HH:mm","Klaar"),n(l,34,0,"stacked"),n(l,39,0,"endTimestamp",e.form.get("startTimestamp").invalid),n(l,42,0,"Annuleren",e.form.get("startTimestamp").invalid,"HH:mm","Klaar",e.form.get("startTimestamp").value),n(l,46,0,"stacked"),n(l,51,0,"amount"),n(l,54,0,"number"),n(l,57,0,e.form.invalid),n(l,59,0,e.form.invalid,"block","submit")}),(function(n,l){n(l,0,0,u.Ab(l,4).ngClassUntouched,u.Ab(l,4).ngClassTouched,u.Ab(l,4).ngClassPristine,u.Ab(l,4).ngClassDirty,u.Ab(l,4).ngClassValid,u.Ab(l,4).ngClassInvalid,u.Ab(l,4).ngClassPending),n(l,12,0,u.Ab(l,17).ngClassUntouched,u.Ab(l,17).ngClassTouched,u.Ab(l,17).ngClassPristine,u.Ab(l,17).ngClassDirty,u.Ab(l,17).ngClassValid,u.Ab(l,17).ngClassInvalid,u.Ab(l,17).ngClassPending),n(l,24,0,u.Ab(l,29).ngClassUntouched,u.Ab(l,29).ngClassTouched,u.Ab(l,29).ngClassPristine,u.Ab(l,29).ngClassDirty,u.Ab(l,29).ngClassValid,u.Ab(l,29).ngClassInvalid,u.Ab(l,29).ngClassPending),n(l,36,0,u.Ab(l,41).ngClassUntouched,u.Ab(l,41).ngClassTouched,u.Ab(l,41).ngClassPristine,u.Ab(l,41).ngClassDirty,u.Ab(l,41).ngClassValid,u.Ab(l,41).ngClassInvalid,u.Ab(l,41).ngClassPending),n(l,48,0,u.Ab(l,53).ngClassUntouched,u.Ab(l,53).ngClassTouched,u.Ab(l,53).ngClassPristine,u.Ab(l,53).ngClassDirty,u.Ab(l,53).ngClassValid,u.Ab(l,53).ngClassInvalid,u.Ab(l,53).ngClassPending)}))}function x(n){return u.Jb(0,[(n()(),u.ob(0,0,null,null,14,"ion-header",[],null,null,null,i.eb,i.p)),u.nb(1,49152,null,0,r.C,[u.h,u.k,u.x],null,null),(n()(),u.ob(2,0,null,0,12,"ion-toolbar",[],null,null,null,i.Db,i.O)),u.nb(3,49152,null,0,r.Ab,[u.h,u.k,u.x],null,null),(n()(),u.ob(4,0,null,0,2,"ion-title",[],null,null,null,i.Bb,i.M)),u.nb(5,49152,null,0,r.yb,[u.h,u.k,u.x],null,null),(n()(),u.Hb(-1,0,["Nieuwe Reservering"])),(n()(),u.ob(7,0,null,0,7,"ion-buttons",[["slot","start"]],null,null,null,i.T,i.e)),u.nb(8,49152,null,0,r.m,[u.h,u.k,u.x],null,null),(n()(),u.ob(9,0,null,0,5,"ion-button",[["routerDirection","back"],["routerLink","/materials"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==u.Ab(n,11).onClick()&&t),"click"===l&&(t=!1!==u.Ab(n,12).onClick(e)&&t),t}),i.S,i.d)),u.nb(10,49152,null,0,r.l,[u.h,u.k,u.x],{routerDirection:[0,"routerDirection"]},null),u.nb(11,16384,null,0,b.n,[b.m,b.a,[8,null],u.B,u.k],{routerLink:[0,"routerLink"]},null),u.nb(12,737280,null,0,r.Kb,[s.h,r.Gb,u.k,b.m,[2,b.n]],{routerDirection:[0,"routerDirection"]},null),(n()(),u.ob(13,0,null,0,1,"ion-icon",[["name","arrow-back-outline"]],null,null,null,i.fb,i.q)),u.nb(14,49152,null,0,r.D,[u.h,u.k,u.x],{name:[0,"name"]},null),(n()(),u.ob(15,0,null,null,5,"ion-content",[],null,null,null,i.bb,i.m)),u.nb(16,49152,null,0,r.v,[u.h,u.k,u.x],null,null),(n()(),u.eb(16777216,null,0,1,null,v)),u.nb(18,16384,null,0,s.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(n()(),u.eb(16777216,null,0,1,null,C)),u.nb(20,16384,null,0,s.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,10,0,"back"),n(l,11,0,"/materials"),n(l,12,0,"back"),n(l,14,0,"arrow-back-outline"),n(l,18,0,e.material),n(l,20,0,e.form)}),null)}var y=u.kb("app-reserve",p,(function(n){return u.Jb(0,[(n()(),u.ob(0,0,null,null,1,"app-reserve",[],null,null,null,x,f)),u.nb(1,114688,null,0,p,[c.a,g.a,b.a,r.Gb,r.Nb,o.b],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),A=function n(){_classCallCheck(this,n)};e.d(l,"ReservePageModuleNgFactory",(function(){return T}));var T=u.lb(t,[],(function(n){return u.xb([u.yb(512,u.j,u.X,[[8,[a.a,y]],[3,u.j],u.v]),u.yb(4608,s.l,s.k,[u.s,[2,s.u]]),u.yb(4608,o.o,o.o,[]),u.yb(4608,r.c,r.c,[u.x,u.g]),u.yb(4608,r.Fb,r.Fb,[r.c,u.j,u.p]),u.yb(4608,r.Jb,r.Jb,[r.c,u.j,u.p]),u.yb(4608,o.b,o.b,[]),u.yb(1073742336,s.b,s.b,[]),u.yb(1073742336,o.n,o.n,[]),u.yb(1073742336,o.f,o.f,[]),u.yb(1073742336,r.Cb,r.Cb,[]),u.yb(1073742336,b.o,b.o,[[2,b.t],[2,b.m]]),u.yb(1073742336,A,A,[]),u.yb(1073742336,o.l,o.l,[]),u.yb(1073742336,t,t,[]),u.yb(1024,b.k,(function(){return[[{path:"",component:p}]]}),[])])}))}}]);