(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Nj8O:function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var u=e("AytR"),t=e("8Y7J"),a=e("IheW");let i=(()=>{class n{constructor(n){this.http=n}getAll(n=0,l=20){return this.http.get(`${u.a.API_URL}materials?page=${n}&limit=${l}`)}findById(n){return this.http.get(`${u.a.API_URL}materials/${n}`)}}return n.ngInjectableDef=t.Nb({factory:function(){return new n(t.Ob(a.c))},token:n,providedIn:"root"}),n})()},"S/TM":function(n,l,e){"use strict";e.r(l);var u=e("8Y7J");class t{}var a=e("pMnS"),i=e("MKJQ"),o=e("sZkV"),r=e("s7LF"),s=e("SVse"),b=e("iInd"),m=e("mrSG"),d=e("wd/R"),g=e("Nj8O"),c=e("nHN9"),h=e("hCTW");class p{constructor(n,l,e,u,t,a){this.materialService=n,this.materialReservationService=l,this.activatedRoute=e,this.router=u,this.toastController=t,this.formBuilder=a,this.dayNames=["Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"],this.monthNames=["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],this.minDate=d().add(10,"minutes").format("YYYY-MM-DD"),this.maxDate=d().add(1,"year").format("YYYY-MM-DD"),this.customTimesValidator=n=>{const l=n.get("startTimestamp").value,e=n.get("endTimestamp").value;return null!==l&&null!==e&&l<e?null:{range:!0}}}ngOnInit(){this.materialService.findById(this.activatedRoute.snapshot.paramMap.get("material_id")).subscribe(n=>{this.material=n}),this.form=this.formBuilder.group({date:["",[r.m.required]],startTimestamp:["",[r.m.required]],endTimestamp:["",[r.m.required]],amount:["",[r.m.required,r.m.min(1)]]},{validator:this.customTimesValidator})}formUpdated(){return m.a(this,void 0,void 0,(function*(){const n=this.form.get("date").value,l=this.form.get("startTimestamp").value,e=this.form.get("endTimestamp").value,u=d(d(n).format("YYYY-MM-DD")+" "+d(l).format("HH:mm"));if(d(u).diff(d().add("10","minutes"))<0&&null!=l&&null!=e){const n=yield this.toastController.create({message:"Je moet je reservering minimaal 15 minuten van tevoren aanmaken!",duration:h.b,buttons:[{text:"Ok\xe9",role:"cancel"}]});yield n.present()}}))}processForm(){this.form.disable();const n=d(this.form.get("date").value).format("YYYY-MM-DD")+" "+d(this.form.get("startTimestamp").value).format("HH:mm"),l=d(this.form.get("date").value).format("YYYY-MM-DD")+" "+d(this.form.get("endTimestamp").value).format("HH:mm"),e={materialId:this.material.id,startTimestamp:d(n,"YYYY-MM-DD HH:mm").unix(),endTimestamp:d(l,"YYYY-MM-DD HH:mm").unix(),amount:1};this.materialReservationService.create(e).subscribe({error:n=>m.a(this,void 0,void 0,(function*(){this.form.enable(),(yield this.toastController.create({header:"Reservering niet aangemaakt",message:'Er ging iets mis tijdens het aanmaken van de reservering, probeer het later opnieuw."',buttons:["Ok\xe9"]})).present()})),complete:()=>{this.form.reset(),this.router.navigateBack(["/material-reservations"])}})}}var v=u.mb({encapsulation:0,styles:[[""]],data:{}});function f(n){return u.Jb(0,[(n()(),u.ob(0,0,null,null,10,"ion-card",[],null,null,null,i.bb,i.f)),u.nb(1,49152,null,0,o.n,[u.h,u.k,u.x],null,null),(n()(),u.ob(2,0,null,0,4,"ion-card-header",[],null,null,null,i.Y,i.h)),u.nb(3,49152,null,0,o.p,[u.h,u.k,u.x],null,null),(n()(),u.ob(4,0,null,0,2,"ion-card-title",[],null,null,null,i.ab,i.j)),u.nb(5,49152,null,0,o.r,[u.h,u.k,u.x],null,null),(n()(),u.Hb(6,0,[" "," "])),(n()(),u.ob(7,0,null,0,3,"ion-card-content",[],null,null,null,i.X,i.g)),u.nb(8,49152,null,0,o.o,[u.h,u.k,u.x],null,null),(n()(),u.ob(9,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),u.Hb(10,null,["Maak een nieuwe reservering aan voor ",""]))],null,(function(n,l){var e=l.component;n(l,6,0,e.material.name),n(l,10,0,e.material.name)}))}function k(n){return u.Jb(0,[(n()(),u.ob(0,0,null,null,3,"ion-text",[],null,null,null,i.Fb,i.N)),u.nb(1,49152,null,0,o.vb,[u.h,u.k,u.x],null,null),(n()(),u.ob(2,0,null,0,1,"p",[["class","undertitle"]],null,null,null,null,null)),(n()(),u.Hb(-1,null,[" Je kan materiaal maximaal 15 minuten van tevoren reserveren! Zorg dat de begintijd voor je eindtijd ligt en dat er een hoeveelheid is geselecteerd! "]))],null,null)}function C(n){return u.Jb(0,[(n()(),u.ob(0,0,null,null,60,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,e){var t=!0,a=n.component;return"submit"===l&&(t=!1!==u.Ab(n,2).onSubmit(e)&&t),"reset"===l&&(t=!1!==u.Ab(n,2).onReset()&&t),"ngSubmit"===l&&(t=!1!==a.processForm()&&t),t}),null,null)),u.nb(1,16384,null,0,r.q,[],null,null),u.nb(2,540672,null,0,r.e,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Eb(2048,null,r.a,null,[r.e]),u.nb(4,16384,null,0,r.j,[[4,r.a]],null,null),(n()(),u.ob(5,0,null,null,49,"ion-list",[["class","ion-no-margin ion-no-padding"],["lines","full"]],null,null,null,i.sb,i.z)),u.nb(6,49152,null,0,o.P,[u.h,u.k,u.x],{lines:[0,"lines"]},null),(n()(),u.ob(7,0,null,0,11,"ion-item",[],null,null,null,i.pb,i.u)),u.nb(8,49152,null,0,o.I,[u.h,u.k,u.x],null,null),(n()(),u.ob(9,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.qb,i.y)),u.nb(10,49152,null,0,o.O,[u.h,u.k,u.x],{position:[0,"position"]},null),(n()(),u.Hb(-1,0,["Voor wanneer wil je materiaal reserveren?"])),(n()(),u.ob(12,0,null,0,6,"ion-datetime",[["cancelText","Annuleren"],["displayFormat","DD MMMM YYYY"],["doneText","Klaar"],["formControlName","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,e){var t=!0;return"ionBlur"===l&&(t=!1!==u.Ab(n,13)._handleBlurEvent(e.target)&&t),"ionChange"===l&&(t=!1!==u.Ab(n,13)._handleChangeEvent(e.target)&&t),t}),i.fb,i.n)),u.nb(13,16384,null,0,o.Lb,[u.k],null,null),u.Eb(1024,null,r.g,(function(n){return[n]}),[o.Lb]),u.nb(15,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.p]],{name:[0,"name"]},null),u.Eb(2048,null,r.h,null,[r.d]),u.nb(17,16384,null,0,r.i,[[4,r.h]],null,null),u.nb(18,49152,null,0,o.w,[u.h,u.k,u.x],{cancelText:[0,"cancelText"],dayNames:[1,"dayNames"],displayFormat:[2,"displayFormat"],doneText:[3,"doneText"],max:[4,"max"],min:[5,"min"],monthNames:[6,"monthNames"]},null),(n()(),u.ob(19,0,null,0,11,"ion-item",[],null,null,null,i.pb,i.u)),u.nb(20,49152,null,0,o.I,[u.h,u.k,u.x],null,null),(n()(),u.ob(21,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.qb,i.y)),u.nb(22,49152,null,0,o.O,[u.h,u.k,u.x],{position:[0,"position"]},null),(n()(),u.Hb(-1,0,["Vanaf hoe laat?"])),(n()(),u.ob(24,0,null,0,6,"ion-datetime",[["cancelText","Annuleren"],["displayFormat","HH:mm"],["doneText","Klaar"],["formControlName","startTimestamp"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ionBlur"]],(function(n,l,e){var t=!0,a=n.component;return"ionBlur"===l&&(t=!1!==u.Ab(n,25)._handleBlurEvent(e.target)&&t),"ionChange"===l&&(t=!1!==u.Ab(n,25)._handleChangeEvent(e.target)&&t),"ionChange"===l&&(t=!1!==a.formUpdated()&&t),t}),i.fb,i.n)),u.nb(25,16384,null,0,o.Lb,[u.k],null,null),u.Eb(1024,null,r.g,(function(n){return[n]}),[o.Lb]),u.nb(27,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.p]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),u.Eb(2048,null,r.h,null,[r.d]),u.nb(29,16384,null,0,r.i,[[4,r.h]],null,null),u.nb(30,49152,null,0,o.w,[u.h,u.k,u.x],{cancelText:[0,"cancelText"],disabled:[1,"disabled"],displayFormat:[2,"displayFormat"],doneText:[3,"doneText"]},null),(n()(),u.ob(31,0,null,0,11,"ion-item",[],null,null,null,i.pb,i.u)),u.nb(32,49152,null,0,o.I,[u.h,u.k,u.x],null,null),(n()(),u.ob(33,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.qb,i.y)),u.nb(34,49152,null,0,o.O,[u.h,u.k,u.x],{position:[0,"position"]},null),(n()(),u.Hb(-1,0,["Tot hoe laat?"])),(n()(),u.ob(36,0,null,0,6,"ion-datetime",[["cancelText","Annuleren"],["displayFormat","HH:mm"],["doneText","Klaar"],["formControlName","endTimestamp"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ionBlur"]],(function(n,l,e){var t=!0,a=n.component;return"ionBlur"===l&&(t=!1!==u.Ab(n,37)._handleBlurEvent(e.target)&&t),"ionChange"===l&&(t=!1!==u.Ab(n,37)._handleChangeEvent(e.target)&&t),"ionChange"===l&&(t=!1!==a.formUpdated()&&t),t}),i.fb,i.n)),u.nb(37,16384,null,0,o.Lb,[u.k],null,null),u.Eb(1024,null,r.g,(function(n){return[n]}),[o.Lb]),u.nb(39,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.p]],{name:[0,"name"],isDisabled:[1,"isDisabled"]},null),u.Eb(2048,null,r.h,null,[r.d]),u.nb(41,16384,null,0,r.i,[[4,r.h]],null,null),u.nb(42,49152,null,0,o.w,[u.h,u.k,u.x],{cancelText:[0,"cancelText"],disabled:[1,"disabled"],displayFormat:[2,"displayFormat"],doneText:[3,"doneText"],min:[4,"min"]},null),(n()(),u.ob(43,0,null,0,11,"ion-item",[],null,null,null,i.pb,i.u)),u.nb(44,49152,null,0,o.I,[u.h,u.k,u.x],null,null),(n()(),u.ob(45,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,i.qb,i.y)),u.nb(46,49152,null,0,o.O,[u.h,u.k,u.x],{position:[0,"position"]},null),(n()(),u.Hb(-1,0,["Hoeveelheid"])),(n()(),u.ob(48,0,null,0,6,"ion-input",[["formControlName","amount"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ionBlur"]],(function(n,l,e){var t=!0,a=n.component;return"ionBlur"===l&&(t=!1!==u.Ab(n,49)._handleBlurEvent(e.target)&&t),"ionChange"===l&&(t=!1!==u.Ab(n,49)._handleIonChange(e.target)&&t),"ionChange"===l&&(t=!1!==a.formUpdated()&&t),t}),i.lb,i.t)),u.nb(49,16384,null,0,o.Hb,[u.k],null,null),u.Eb(1024,null,r.g,(function(n){return[n]}),[o.Hb]),u.nb(51,671744,null,0,r.d,[[3,r.a],[8,null],[8,null],[6,r.g],[2,r.p]],{name:[0,"name"]},null),u.Eb(2048,null,r.h,null,[r.d]),u.nb(53,16384,null,0,r.i,[[4,r.h]],null,null),u.nb(54,49152,null,0,o.H,[u.h,u.k,u.x],{type:[0,"type"]},null),(n()(),u.ob(55,0,null,null,5,"div",[["class","ion-padding"]],null,null,null,null,null)),(n()(),u.eb(16777216,null,null,1,null,k)),u.nb(57,16384,null,0,s.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(n()(),u.ob(58,0,null,null,2,"ion-button",[["class","ion-no-margin"],["expand","block"],["type","submit"]],null,null,null,i.V,i.d)),u.nb(59,49152,null,0,o.l,[u.h,u.k,u.x],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(n()(),u.Hb(-1,0,[" Reservering aanmaken "]))],(function(n,l){var e=l.component;n(l,2,0,e.form),n(l,6,0,"full"),n(l,10,0,"stacked"),n(l,15,0,"date"),n(l,18,0,"Annuleren",e.dayNames,"DD MMMM YYYY","Klaar",e.maxDate,e.minDate,e.monthNames),n(l,22,0,"stacked"),n(l,27,0,"startTimestamp",e.form.get("date").invalid),n(l,30,0,"Annuleren",e.form.get("date").invalid,"HH:mm","Klaar"),n(l,34,0,"stacked"),n(l,39,0,"endTimestamp",e.form.get("startTimestamp").invalid),n(l,42,0,"Annuleren",e.form.get("startTimestamp").invalid,"HH:mm","Klaar",e.form.get("startTimestamp").value),n(l,46,0,"stacked"),n(l,51,0,"amount"),n(l,54,0,"number"),n(l,57,0,e.form.invalid),n(l,59,0,e.form.invalid,"block","submit")}),(function(n,l){n(l,0,0,u.Ab(l,4).ngClassUntouched,u.Ab(l,4).ngClassTouched,u.Ab(l,4).ngClassPristine,u.Ab(l,4).ngClassDirty,u.Ab(l,4).ngClassValid,u.Ab(l,4).ngClassInvalid,u.Ab(l,4).ngClassPending),n(l,12,0,u.Ab(l,17).ngClassUntouched,u.Ab(l,17).ngClassTouched,u.Ab(l,17).ngClassPristine,u.Ab(l,17).ngClassDirty,u.Ab(l,17).ngClassValid,u.Ab(l,17).ngClassInvalid,u.Ab(l,17).ngClassPending),n(l,24,0,u.Ab(l,29).ngClassUntouched,u.Ab(l,29).ngClassTouched,u.Ab(l,29).ngClassPristine,u.Ab(l,29).ngClassDirty,u.Ab(l,29).ngClassValid,u.Ab(l,29).ngClassInvalid,u.Ab(l,29).ngClassPending),n(l,36,0,u.Ab(l,41).ngClassUntouched,u.Ab(l,41).ngClassTouched,u.Ab(l,41).ngClassPristine,u.Ab(l,41).ngClassDirty,u.Ab(l,41).ngClassValid,u.Ab(l,41).ngClassInvalid,u.Ab(l,41).ngClassPending),n(l,48,0,u.Ab(l,53).ngClassUntouched,u.Ab(l,53).ngClassTouched,u.Ab(l,53).ngClassPristine,u.Ab(l,53).ngClassDirty,u.Ab(l,53).ngClassValid,u.Ab(l,53).ngClassInvalid,u.Ab(l,53).ngClassPending)}))}function y(n){return u.Jb(0,[(n()(),u.ob(0,0,null,null,14,"ion-header",[],null,null,null,i.hb,i.p)),u.nb(1,49152,null,0,o.C,[u.h,u.k,u.x],null,null),(n()(),u.ob(2,0,null,0,12,"ion-toolbar",[],null,null,null,i.Jb,i.R)),u.nb(3,49152,null,0,o.Ab,[u.h,u.k,u.x],null,null),(n()(),u.ob(4,0,null,0,2,"ion-title",[],null,null,null,i.Hb,i.P)),u.nb(5,49152,null,0,o.yb,[u.h,u.k,u.x],null,null),(n()(),u.Hb(-1,0,["Nieuwe Reservering"])),(n()(),u.ob(7,0,null,0,7,"ion-buttons",[["slot","start"]],null,null,null,i.W,i.e)),u.nb(8,49152,null,0,o.m,[u.h,u.k,u.x],null,null),(n()(),u.ob(9,0,null,0,5,"ion-button",[["routerDirection","back"],["routerLink","/materials"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==u.Ab(n,11).onClick()&&t),"click"===l&&(t=!1!==u.Ab(n,12).onClick(e)&&t),t}),i.V,i.d)),u.nb(10,49152,null,0,o.l,[u.h,u.k,u.x],{routerDirection:[0,"routerDirection"]},null),u.nb(11,16384,null,0,b.n,[b.m,b.a,[8,null],u.B,u.k],{routerLink:[0,"routerLink"]},null),u.nb(12,737280,null,0,o.Kb,[s.h,o.Gb,u.k,b.m,[2,b.n]],{routerDirection:[0,"routerDirection"]},null),(n()(),u.ob(13,0,null,0,1,"ion-icon",[["name","arrow-back-outline"]],null,null,null,i.ib,i.q)),u.nb(14,49152,null,0,o.D,[u.h,u.k,u.x],{name:[0,"name"]},null),(n()(),u.ob(15,0,null,null,5,"ion-content",[],null,null,null,i.eb,i.m)),u.nb(16,49152,null,0,o.v,[u.h,u.k,u.x],null,null),(n()(),u.eb(16777216,null,0,1,null,f)),u.nb(18,16384,null,0,s.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(n()(),u.eb(16777216,null,0,1,null,C)),u.nb(20,16384,null,0,s.j,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,10,0,"back"),n(l,11,0,"/materials"),n(l,12,0,"back"),n(l,14,0,"arrow-back-outline"),n(l,18,0,e.material),n(l,20,0,e.form)}),null)}function A(n){return u.Jb(0,[(n()(),u.ob(0,0,null,null,1,"app-reserve",[],null,null,null,y,v)),u.nb(1,114688,null,0,p,[g.a,c.a,b.a,o.Gb,o.Nb,r.b],null,null)],(function(n,l){n(l,1,0)}),null)}var x=u.kb("app-reserve",p,A,{},{},[]);class T{}e.d(l,"ReservePageModuleNgFactory",(function(){return D}));var D=u.lb(t,[],(function(n){return u.xb([u.yb(512,u.j,u.X,[[8,[a.a,x]],[3,u.j],u.v]),u.yb(4608,s.l,s.k,[u.s,[2,s.u]]),u.yb(4608,r.o,r.o,[]),u.yb(4608,o.c,o.c,[u.x,u.g]),u.yb(4608,o.Fb,o.Fb,[o.c,u.j,u.p]),u.yb(4608,o.Jb,o.Jb,[o.c,u.j,u.p]),u.yb(4608,r.b,r.b,[]),u.yb(1073742336,s.b,s.b,[]),u.yb(1073742336,r.n,r.n,[]),u.yb(1073742336,r.f,r.f,[]),u.yb(1073742336,o.Cb,o.Cb,[]),u.yb(1073742336,b.o,b.o,[[2,b.t],[2,b.m]]),u.yb(1073742336,T,T,[]),u.yb(1073742336,r.l,r.l,[]),u.yb(1073742336,t,t,[]),u.yb(1024,b.k,(function(){return[[{path:"",component:p}]]}),[])])}))}}]);